---
const pillars = [
  {
    title: 'Agent-Native Context',
    description: 'Your coding agent stops guessing. Gitplum delivers high-signal architectural context formatted for LLM consumption — no file-by-file crawling required.',
    icon: 'M13 10V3L4 14h7v7l9-11h-7z',
  },
  {
    title: 'Architectural Truth',
    description: 'Go beyond grep. Gitplum surfaces intent, state machines, and data flows that standard search tools miss. See the blueprint, not the bricks.',
    icon: 'M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z',
  },
  {
    title: 'Any Repo, Any Scale',
    description: 'The Linux Kernel. React. Kubernetes. Gitplum handles the most complex open-source infrastructure on earth — and returns answers in seconds.',
    icon: 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z',
  },
];
---

<section class="thesis" id="thesis" aria-label="Why Gitplum exists">
  <!-- Floating particles background -->
  <div class="thesis-particles" aria-hidden="true">
    <div class="particle p1"></div>
    <div class="particle p2"></div>
    <div class="particle p3"></div>
    <div class="particle p4"></div>
    <div class="particle p5"></div>
    <div class="particle p6"></div>
    <div class="particle p7"></div>
    <div class="particle p8"></div>
    <div class="particle p9"></div>
    <div class="particle p10"></div>
    <div class="particle p11"></div>
    <div class="particle p12"></div>
  </div>
  <div class="thesis-inner">
    <div class="section-header fade-in">
      <div class="section-label">// the_thesis</div>
      <h2>Coding agents are building the world.<br />They deserve better than <em>README.md.</em></h2>
      <p>Every coding agent hits the same wall: unfamiliar software with no architectural map. Gitplum eliminates that wall. One query to the knowledge base returns the deep context your agent needs to ship correct code — sourced to exact files and line numbers.</p>
    </div>
    <div class="pillars">
      {pillars.map(({ title, description, icon }, i) => (
        <article class={`pillar fade-in fade-in-delay-${i + 1}`}>
          <div class="pillar-icon">
            <svg fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" aria-hidden="true">
              <path stroke-linecap="round" stroke-linejoin="round" d={icon} />
            </svg>
          </div>
          <h3>{title}</h3>
          <p>{description}</p>
        </article>
      ))}
    </div>
  </div>
</section>

<style>
  .thesis {
    padding: 120px 24px;
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
    overflow: hidden;
  }

  /* ── Floating Particles ── */
  .thesis-particles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    z-index: 0;
  }

  .particle {
    position: absolute;
    border-radius: 50%;
    background: var(--plum-light);
    box-shadow: 0 0 8px 2px rgba(139, 77, 171, 0.4), 0 0 20px 4px rgba(139, 77, 171, 0.15);
    opacity: 0;
    will-change: transform, opacity;
  }

  @media (prefers-reduced-motion: no-preference) {
    .particle {
      animation: particleFloat ease-in-out infinite;
    }

    .p1  { width: 6px;  height: 6px;  left: 5%;   top: 18%;  animation-duration: 14s; animation-delay: 0s;   }
    .p2  { width: 5px;  height: 5px;  left: 15%;  top: 55%;  animation-duration: 11s; animation-delay: -2s;  }
    .p3  { width: 8px;  height: 8px;  left: 28%;  top: 12%;  animation-duration: 16s; animation-delay: -5s;  }
    .p4  { width: 5px;  height: 5px;  left: 42%;  top: 72%;  animation-duration: 12s; animation-delay: -1s;  }
    .p5  { width: 4px;  height: 4px;  left: 58%;  top: 8%;   animation-duration: 15s; animation-delay: -8s;  }
    .p6  { width: 7px;  height: 7px;  left: 72%;  top: 45%;  animation-duration: 13s; animation-delay: -3s;  }
    .p7  { width: 5px;  height: 5px;  left: 88%;  top: 22%;  animation-duration: 14s; animation-delay: -6s;  }
    .p8  { width: 6px;  height: 6px;  left: 95%;  top: 65%;  animation-duration: 11s; animation-delay: -1s;  }
    .p9  { width: 4px;  height: 4px;  left: 10%;  top: 82%;  animation-duration: 16s; animation-delay: -9s;  }
    .p10 { width: 5px;  height: 5px;  left: 38%;  top: 38%;  animation-duration: 10s; animation-delay: -4s;  }
    .p11 { width: 7px;  height: 7px;  left: 65%;  top: 85%;  animation-duration: 15s; animation-delay: -7s;  }
    .p12 { width: 4px;  height: 4px;  left: 80%;  top: 30%;  animation-duration: 12s; animation-delay: -2s;  }
  }

  @keyframes particleFloat {
    0%, 100% {
      opacity: 0;
      transform: translateY(0) translateX(0);
    }
    15% {
      opacity: 0.6;
    }
    50% {
      opacity: 0.35;
      transform: translateY(-50px) translateX(25px);
    }
    85% {
      opacity: 0.55;
    }
  }

  .thesis-inner {
    position: relative;
    z-index: 1;
  }

  .thesis h2 {
    font-family: var(--sans);
    font-weight: 800;
    font-style: normal;
    letter-spacing: -0.03em;
    line-height: 1.15;
  }

  .thesis h2 em {
    font-family: var(--display);
    font-weight: 400;
    font-style: italic;
    color: var(--plum);
  }

  .pillars {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 24px;
  }

  .pillar {
    padding: 40px 32px;
    background: var(--white);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
  }

  .pillar:hover {
    border-color: var(--plum-light);
    box-shadow: var(--shadow-lg), 0 0 0 1px rgba(139, 77, 171, 0.1);
    transform: translateY(-6px);
  }

  .pillar-icon {
    width: 52px;
    height: 52px;
    border-radius: 14px;
    background: linear-gradient(135deg, var(--surface-alt), rgba(107, 45, 139, 0.08));
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 24px;
  }

  .pillar-icon svg {
    width: 26px;
    height: 26px;
    color: var(--plum);
  }

  h3 {
    font-size: 1.188rem;
    font-weight: 700;
    margin-bottom: 12px;
    letter-spacing: -0.01em;
  }

  .pillar p {
    font-size: 0.938rem;
    color: var(--text-secondary);
    line-height: 1.7;
  }

  @media (max-width: 900px) {
    .pillars {
      grid-template-columns: 1fr;
      max-width: 520px;
      margin: 0 auto;
    }
  }
</style>
